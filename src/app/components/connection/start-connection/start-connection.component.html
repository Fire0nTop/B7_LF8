<!-- peer-connection.component.html -->
<div class="pixel-container">
  <div class="pixel-box">
    <h2 class="pixel-title">NETZWERK KONSOLE</h2>

    <div class="pixel-display">
      <p class="pixel-text">DEiNE NAME</p>
      <p class="pixel-id">{{ connectionService.otherUsername() }}</p>
    </div>

    <div class="pixel-display">
      <p class="pixel-text">DEINE ID:</p>
      <p class="pixel-id">{{ connectionService.peerId() }}</p>
    </div>

    @if (this.connectionService.isConnected()) {
      <div class="pixel-status connected">
        <p class="pixel-text">VERBUNDEN MIT:</p>
        <p class="pixel-peer-id">{{ this.connectionService.connectedPeerId() }}</p>
      </div>
    } @else {
      <div class="pixel-status disconnected">
        <p class="pixel-text">STATUS: GETRENNT</p>
      </div>
    }

    @if (connectionService.connectionError()) {
      <div class="pixel-error">
        <p class="pixel-text">FEHLER:</p>
        <p class="pixel-error-message">{{ connectionService.connectionError() }}</p>
      </div>
    }

    <div class="pixel-controls">
      <input
        class="pixel-input"
        #peerIdInput
        placeholder="GEGNER-ID EINGEBEN"
        [disabled]="connectionService.isConnected()"
      >

      <div class="pixel-buttons">
        <button
          class="pixel-button connect"
          (click)="connect(peerIdInput.value)"
          [disabled]="connectionService.isConnected() || !peerIdInput.value"
        >
          VERBINDEN
        </button>
        <button
          class="pixel-button disconnect"
          (click)="disconnect()"
          [disabled]="!connectionService.isConnected()"
        >
          TRENNEN
        </button>
      </div>
    </div>
  </div>
</div>
