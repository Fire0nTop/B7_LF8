<div class="h-full p-4 bg-gray-900 text-white">
  <!-- Player Header -->
  <div class="flex justify-between items-center bg-gray-800 p-3 rounded-lg border border-c0c0c0 mb-4">
    <div class="flex items-center space-x-3">
      <div class="w-10 h-10 flex items-center justify-center rounded-full bg-00FFFF60 text-white font-bold text-sm">
        {{ gameService.isAttacking() ? 'ATK' : 'DEF' }}
      </div>
      <div>
        <p class="font-bold text-transparent bg-clip-text bg-gradient-to-r from-00FFFF to-gray-400">
          {{ getUsername() }}
        </p>
        <p class="text-xs text-gray-400">Game ID: {{ getUuid() | slice:0:8 }}</p>
      </div>
    </div>
    <div class="bg-gray-700 px-3 py-1 rounded-full text-sm font-medium border border-c0c0c0 shadow-md">
      {{ gameService.isAttacking() ? 'TARGETING MODE' : 'DEPLOYMENT MODE' }}
    </div>
  </div>

  <!-- Fleet Status -->
  <div class="bg-gray-800 rounded-lg p-4 mb-4 border border-c0c0c0 shadow-lg">
    <h3 class="text-lg font-bold text-white mb-3 pb-2 border-b border-c0c0c0 underline decoration-from-00FFFF decoration-via-c0c0c0 decoration-to-gray-400">
      YOUR FLEET
    </h3>
    <div class="space-y-2">
      @for (ship of gameService.ships(); track ship.shipId) {
        <button
          (click)="setSelectedShip(ship)"
          [disabled]="gameService.board.getShipCountLeft(ship) < 1"
          class="w-full flex justify-between items-center p-3 rounded-lg transition-all"
          [class.bg-gradient-to-r]="gameService.selectedShip()?.shipId === ship.shipId"
          [class.from-00FFFF]="gameService.selectedShip()?.shipId === ship.shipId"
          [class.to-gray-900]="gameService.selectedShip()?.shipId === ship.shipId"
          [class.bg-gray-700]="gameService.selectedShip()?.shipId !== ship.shipId"
          [class.opacity-50]="gameService.board.getShipCountLeft(ship) < 1"
          [class.hover:bg-00FFFF60]="gameService.board.getShipCountLeft(ship) > 0">

          <div class="flex items-center space-x-3">
            <div class="w-10 h-10 flex items-center justify-center bg-c0c0c0 rounded-lg font-bold text-black">
              {{ ship.shipName | slice:0:2 }}
            </div>
            <span class="font-medium text-white">{{ ship.shipName }}</span>
          </div>

          <div class="flex items-center space-x-4">
            <span class="text-sm text-gray-300">Size: {{ ship.horizontalSize }}Ã—{{ ship.verticalSize }}</span>
            <span class="bg-gray-700 px-2 py-1 rounded-full text-xs font-bold border border-c0c0c0">
              {{ gameService.board.getShipCountLeft(ship) }} left
            </span>
          </div>
        </button>
      }
    </div>
  </div>

  <!-- Command Panel -->
  <div class="bg-gray-800 rounded-lg p-4 border border-c0c0c0 shadow-lg">
    <h3 class="text-lg font-bold text-white mb-3 pb-2 border-b border-c0c0c0 underline decoration-from-00FFFF decoration-via-c0c0c0 decoration-to-gray-400">
      COMMAND PANEL
    </h3>
    <div class="grid grid-cols-2 gap-3 mb-3">
      <button
        (click)="switchRotation()"
        class="bg-gradient-to-r from-00FFFF to-gray-900 p-3 rounded-lg text-sm font-medium transition-colors hover:bg-opacity-90 shadow-md">
        ROTATE: {{ Rotation[gameService.selectedRotation()] }}
      </button>

      <button
        (click)="switchRemoveActive()"
        [class.bg-red-600]="gameService.isRemoving()"
        [class.bg-gray-700]="!gameService.isRemoving()"
        class="hover:bg-red-500 hover:bg-opacity-80 p-3 rounded-lg text-sm font-medium transition-colors shadow-md">
        {{ gameService.isRemoving() ? 'CANCEL REMOVE' : 'REMOVE MODE' }}
      </button>
    </div>

    <button
      [disabled]="gameService.round() > 0"
      (click)="switchReady()"
      [class.bg-gradient-to-r]="connectionService.isReady()"
      [class.from-00FFFF]="connectionService.isReady()"
      [class.to-gray-900]="connectionService.isReady()"
      class="w-full p-3 rounded-lg font-bold transition-colors hover:bg-opacity-90 shadow-lg"
      [class.opacity-70]="gameService.round() > 0">
      {{ connectionService.isReady() ? 'AWAITING OPPONENT...' : 'CONFIRM DEPLOYMENT' }}
    </button>
  </div>
</div>
